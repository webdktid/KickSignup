@page
@model KickSignupWeb.Pages.TilmeldingerModel
@{
    ViewData["Title"] = "Tilmeldinger";
}

<h2>Tilmeldinger</h2>
<br/>

<table class="table">
    <tr>
        <th>Id</th>
        <th>Tidspunkt</th>
        <th>Navn</th>
        <th>Email</th>
        <th>Postnummer</th>
        <th>Område</th>

    </tr>
    @foreach (var row in Model.Signups.OrderBy(x=>x.Id))
    {
        <tr>
            <td>@row.Id</td>
            <td>@row.SignupDateTime</td>
            <td>@row.Name</td>
            <td>@row.Email</td>
            <td>@row.ZipCode</td>
            <td>@row.Area?</td>

        </tr>
    }
   
</table>


<hr/>
<p>Antal pr postnummer:</p>
<table class="table">
    @foreach (var r in Model.Signups.GroupBy(x => x.ZipCode))
    {
    <tr>
        <td>@r.Key</td>
        <td>@r.Count()</td>
    </tr>
    }

    <tr><td>Ialt</td><td>@Model.Signups.Count</td></tr>
</table>